# redis事务和锁机制

<br>

redis事务是一个单独的隔离操作：事务中的所有命令都会序列化、按顺序地执行。事务在执行的过程中，不会被其他客户端发送来的命令请求打断。

redis事务的主要作用就是```串联多个命令```防止别的命令插队。

## 1. multi，exec，discard
从输入multi命令开始，输入的命令都会依次进入命令队列中，但是不会执行，直到输入exec后，redis会将之前的命令队列中的命令依次执行。

组队的过程中可以通过discard来放弃组队。 <br>
![](.redis_事务和锁机制_images/b0e005c8.png)
<br>

组队阶段如果有命令错误，那么exec执行后所有命令都会失败不会执行。

执行阶段如果有命令执行出错，组队中的其他命令不会失败，会执行成功。

<br>
<br>
<br>

## 2. redis事务三特性
1. 单独的隔离操作 <br>
   事务中的所有命令都会序列化、按顺序地执行。事务在执行的过程中，不会被其他客户端发送来的命令请求所打断。
   
2. 没有隔离级别的概念 <br>
   队列中的命令没有提交之前都不会实际被执行，因为事务提交前任何指令都不会被实际执行。
   
3. 不保证原子性 <br>
   事务中如果有一条命令执行失败，其后的命令仍然会被执行，没有回滚。
















































