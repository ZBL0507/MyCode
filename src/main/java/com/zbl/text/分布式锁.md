### 【Redisson分布式锁使用的正确姿势】 
```java
class Demo{
    
    public void doSomething() {
        try {
            // 上锁
            redisLock.lock();  //不能放到try的外面加锁，因为加锁异常，但是实际指令已经发送到服务端并执行，只是客户端读取响应超时，就会导致没有机会执行解锁的代码。
            // 处理业务
            //...
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            // 释放锁
            redisLock.unlock();
        }
    }
  
}
```

### 【redis实现分布式锁】 
+ #### [使用哪个命令来实现分布式锁？]
    ```SET key value [EX seconds|PX milliseconds|EXAT timestamp|PXAT milliseconds-timestamp|KEEPTTL] [NX|XX] [GET]```
+ #### [redis实现分布式锁要点(来自redis官网)]
    ```text font-size=10
     Distributed locks are a very useful primitive in many environments where different processes must operate with shared resources in a mutually exclusive way.
     There are a number of libraries and blog posts describing how to implement a DLM (Distributed Lock Manager) with Redis, 
     but every library uses a different approach, and many use a simple approach with lower guarantees compared to what can be achieved with slightly more complex designs.
     This page is an attempt to provide a more canonical algorithm to implement distributed locks with Redis.
          We propose an algorithm, called Redlock, which implements a DLM which we believe to be safer than the vanilla single instance approach.
          We hope that the community will analyze it, provide feedback,
          and use it as a starting point for the implementations or more complex or alternative designs.
     - Safety and Liveness guarantees
         We are going to model our design with just three properties that, from our point of view,
             are the minimum guarantees needed to use distributed locks in an effective way.
         1. Safety property: Mutual exclusion. At any given moment, only one client can hold a lock.
         2. Liveness property A: Deadlock free. Eventually it is always possible to acquire a lock,
                                 even if the client that locked a resource crashes or gets partitioned.
         3. Liveness property B: Fault tolerance. As long as the majority of Redis nodes are up,
                                 clients are able to acquire and release locks.
    ```

